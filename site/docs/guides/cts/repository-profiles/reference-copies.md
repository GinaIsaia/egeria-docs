<!-- SPDX-License-Identifier: CC-BY-4.0 -->
<!-- Copyright Contributors to the Egeria project. -->

# Reference Copies Profile

The technology under test is able to store reference copies of metadata from other members of the cohort.

## Reference copy storage

The technology under test supports the storage of metadata instances from other repositories in the cohort.

???+ assertion "Assertions"
    | ID | Description |
    |---|---|
    | [`repository-entity-reference-copy-lifecycle-01` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity created; repository supports storage of reference copies. |
    | [`repository-entity-reference-copy-lifecycle-04` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity matches the entity that was saved. |
    | [`repository-entity-reference-copy-lifecycle-05` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity has no relationships. |
    | [`repository-entity-reference-copy-lifecycle-11` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity refresh requested by TUT. |
    | [`repository-entity-reference-copy-lifecycle-12` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity refreshed. |
    | [`repository-entity-reference-copy-lifecycle-13` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` refreshed reference entity matches original. |
    | [`repository-entity-reference-copy-lifecycle-16` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity created with mappingProperties. |
    | [`repository-entity-reference-copy-lifecycle-17` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity retrieved with mappingProperties. |
    | [`repository-reference-copy-classification-lifecycle-01` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedReferenceCopyClassificationLifecycle.java){ target=gh } | No classifications attached to new entity reference copy of type `<typeName>` |
    | [`repository-reference-copy-classification-lifecycle-02` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedReferenceCopyClassificationLifecycle.java){ target=gh } | `<entityTypeName>` entity reference copy returned when classification added. |
    | [`repository-reference-copy-classification-lifecycle-03` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedReferenceCopyClassificationLifecycle.java){ target=gh } | `<classificationName>` classification added to entity reference copy of type `<entityTypeName>` |
    | [`repository-reference-copy-classification-lifecycle-04` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedReferenceCopyClassificationLifecycle.java){ target=gh } | `<classificationName>` classification properties added to entity reference copy of type `<entityTypeName>` |
    | [`repository-reference-copy-classification-lifecycle-05` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedReferenceCopyClassificationLifecycle.java){ target=gh } | `<classificationName>` classification removed from entity reference copy of type `<entityTypeName>` |
    | [`repository-reference-copy-classification-lifecycle-07` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedReferenceCopyClassificationLifecycle.java){ target=gh } |  repository supports storage of reference copies. |
    | [`repository-relationship-reference-copy-lifecycle-01` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship created; repository supports storage of reference copies. |
    | [`repository-relationship-reference-copy-lifecycle-02` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship can be retrieved as Relationship. |
    | [`repository-relationship-reference-copy-lifecycle-03` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship matches the relationship that was saved. |
    | [`repository-relationship-reference-copy-lifecycle-09` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship refresh requested by TUT. |
    | [`repository-relationship-reference-copy-lifecycle-10` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship refreshed. |
    | [`repository-relationship-reference-copy-lifecycle-11` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` refreshed reference relationship matches original. |
    | [`repository-relationship-reference-copy-lifecycle-15` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship created with mappingProperties. |
    | [`repository-relationship-reference-copy-lifecycle-16` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship retrieved with mappingProperties. |

## Reference copy locking

The technology under test ensures metadata instances from other repositories can not be updated.

???+ assertion "Assertions"
    | ID | Description |
    |---|---|
    | [`repository-entity-reference-copy-lifecycle-06` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity status cannot be updated. |
    | [`repository-entity-reference-copy-lifecycle-07` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity properties cannot be updated. |
    | [`repository-entity-reference-copy-lifecycle-08` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity type cannot be changed. |
    | [`repository-entity-reference-copy-lifecycle-09` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity identity cannot be changed. |
    | [`repository-relationship-reference-copy-lifecycle-04` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship status cannot be updated. |
    | [`repository-relationship-reference-copy-lifecycle-05` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship properties cannot be updated. |
    | [`repository-relationship-reference-copy-lifecycle-06` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship type cannot be changed. |
    | [`repository-relationship-reference-copy-lifecycle-07` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship identity cannot be changed. |

## Reference copy delete

The technology under test ensures that references copies are removed from its repository with integrity when the master copy is deleted.

???+ assertion "Assertions"
    | ID | Description |
    |---|---|
    | [`repository-entity-reference-copy-lifecycle-10` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity copy purged at TUT. |
    | [`repository-entity-reference-copy-lifecycle-14` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedEntityReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference entity purged following delete at CTS. |
    | [`repository-relationship-reference-copy-lifecycle-08` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship copy purged at TUT. |
    | [`repository-relationship-reference-copy-lifecycle-12` :material-github:](https://github.com/odpi/egeria/blob/master/open-metadata-conformance-suite/open-metadata-conformance-suite-server/src/main/java/org/odpi/openmetadata/conformance/tests/repository/instances/TestSupportedRelationshipReferenceCopyLifecycle.java){ target=gh } | `<typeName>` reference relationship purged following delete at CTS. |
